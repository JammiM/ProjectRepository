<!DOCTYPE html>
<html><meta charset="UTF-8">   
<canvas id="c" width='900' height='900'></canvas>
<script src="ShaderProgramCreator.js"></script>
<script id="vertexShader" type="x-shader">
	attribute vec2 vertexPostion;
	void main() { 
		gl_Position = vec4(vertexPostion, 0, 1); 
	}
</script>
<script id="fragmentShader" type="x-shader">
	#ifdef GL_FRAGMENT_PRECISION_HIGH
		precision highp float;
	#else
		precision mediump float;
	#endif
		precision mediump int;
		uniform vec2 canvasSize;

		vec4 calc(vec2 textCoord){
			return vec4(textCoord,0,1);
		}

	void main() { 
		vec2 textCoord = (gl_FragCoord.xy / canvasSize.xy) * 2.0 - vec2(1.0,1.0);
		gl_FragColor = vec4(textCoord, 0, 1);
	}
</script>
<script>
//window.onerror = function(msg, lineno, url){
//	alert(url + "\n" + "Line number " + lineno + "\n" + msg);
//}
		var c = document.getElementById('c');
		var gl = c.getContext('experimental-webgl');
		var vertexPosBuffer = ScreenQuad();
		var vs = document.getElementById('vertexShader').textContent;
		var fs = document.getElementById('fragmentShader').textContent;
		var program = createProgram(vs,fs);
		gl.useProgram(program);
		program.vertexPosAttrib = gl.getAttribLocation(program, 'vertexPostion');
		program.canvasSizeUniform = gl.getUniformLocation(program, 'canvasSize');
		gl.enableVertexAttribArray(program.vertexPosArray);
		gl.vertexAttribPointer(program.vertexPosAttrib, vertexPosBuffer.itemSize, gl.FLOAT, false, 0,0);
		gl.uniform2f(program.canvasSizeUniform, c.width, c.height);
		gl.drawArrays(gl.TRIANGLE_STRIP, 0, vertexPosBuffer.numItems);
</script>
</html>